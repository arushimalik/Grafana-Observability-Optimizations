{"version":3,"file":"DataSourceHttpSettings.js","sources":["../../../../src/components/DataSourceSettings/DataSourceHttpSettings.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport { useState, useCallback, useId } from 'react';\n\nimport { SelectableValue } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { useTheme2 } from '../../themes';\nimport { Alert } from '../Alert/Alert';\nimport { FormField } from '../FormField/FormField';\nimport { InlineFormLabel } from '../FormLabel/FormLabel';\nimport { InlineField } from '../Forms/InlineField';\nimport { Input } from '../Forms/Legacy/Input/Input';\nimport { Icon } from '../Icon/Icon';\nimport { Select } from '../Select/Select';\nimport { InlineSwitch } from '../Switch/Switch';\nimport { TagsInput } from '../TagsInput/TagsInput';\nimport { Text } from '../Text/Text';\n\nimport { BasicAuthSettings } from './BasicAuthSettings';\nimport { CustomHeadersSettings } from './CustomHeadersSettings';\nimport { HttpProxySettings } from './HttpProxySettings';\nimport { SecureSocksProxySettings } from './SecureSocksProxySettings';\nimport { TLSAuthSettings } from './TLSAuthSettings';\nimport { HttpSettingsProps } from './types';\n\nconst ACCESS_OPTIONS: Array<SelectableValue<string>> = [\n  {\n    label: 'Server (default)',\n    value: 'proxy',\n  },\n  {\n    label: 'Browser',\n    value: 'direct',\n  },\n];\n\nconst DEFAULT_ACCESS_OPTION = {\n  label: 'Server (default)',\n  value: 'proxy',\n};\n\nconst HttpAccessHelp = () => {\n  return (\n    <Alert severity=\"info\" title=\"\" topSpacing={3}>\n      <p>\n        Access mode controls how requests to the data source will be handled.\n        <strong>\n          &nbsp;<i>Server</i>\n        </strong>{' '}\n        should be the preferred way if nothing else is stated.\n      </p>\n      <Text weight=\"medium\">Server access mode (Default):</Text>\n      <p>\n        All requests will be made from the browser to Grafana backend/server which in turn will forward the requests to\n        the data source and by that circumvent possible Cross-Origin Resource Sharing (CORS) requirements. The URL needs\n        to be accessible from the grafana backend/server if you select this access mode.\n      </p>\n      <Text weight=\"medium\">Browser access mode:</Text>\n      <p>\n        All requests will be made from the browser directly to the data source and may be subject to Cross-Origin\n        Resource Sharing (CORS) requirements. The URL needs to be accessible from the browser if you select this access\n        mode.\n      </p>\n    </Alert>\n  );\n};\n\nconst LABEL_WIDTH = 26;\n\nexport const DataSourceHttpSettings = (props: HttpSettingsProps) => {\n  const {\n    defaultUrl,\n    dataSourceConfig,\n    onChange,\n    showAccessOptions,\n    sigV4AuthToggleEnabled,\n    showForwardOAuthIdentityOption,\n    azureAuthSettings,\n    renderSigV4Editor,\n    secureSocksDSProxyEnabled,\n    urlLabel,\n    urlDocs,\n  } = props;\n\n  const [isAccessHelpVisible, setIsAccessHelpVisible] = useState(false);\n  const [azureAuthEnabled, setAzureAuthEnabled] = useState(false);\n  const theme = useTheme2();\n  let urlTooltip;\n\n  const onSettingsChange = useCallback(\n    (change: Partial<typeof dataSourceConfig>) => {\n      // Azure Authentication doesn't work correctly when Forward OAuth Identity is enabled.\n      // The Authorization header that has been set by the ApplyAzureAuth middleware gets overwritten\n      // with the Authorization header set by the OAuthTokenMiddleware.\n      const isAzureAuthEnabled =\n        (azureAuthSettings?.azureAuthSupported && azureAuthSettings.getAzureAuthEnabled(dataSourceConfig)) || false;\n      setAzureAuthEnabled(isAzureAuthEnabled);\n      if (isAzureAuthEnabled) {\n        const tmpOauthPassThru =\n          dataSourceConfig.jsonData.oauthPassThru !== undefined ? dataSourceConfig.jsonData.oauthPassThru : false;\n        change = {\n          ...change,\n          jsonData: {\n            ...dataSourceConfig.jsonData,\n            oauthPassThru: isAzureAuthEnabled ? false : tmpOauthPassThru,\n          },\n        };\n      }\n\n      onChange({\n        ...dataSourceConfig,\n        ...change,\n      });\n    },\n    [azureAuthSettings, dataSourceConfig, onChange]\n  );\n\n  switch (dataSourceConfig.access) {\n    case 'direct':\n      urlTooltip = (\n        <>\n          Your access method is <em>Browser</em>, this means the URL needs to be accessible from the browser.\n          {urlDocs}\n        </>\n      );\n      break;\n    case 'proxy':\n      urlTooltip = (\n        <>\n          Your access method is <em>Server</em>, this means the URL needs to be accessible from the grafana\n          backend/server.\n          {urlDocs}\n        </>\n      );\n      break;\n    default:\n      urlTooltip = <>Specify a complete HTTP URL (for example http://your_server:8080) {urlDocs}</>;\n  }\n\n  const accessSelect = (\n    <Select\n      aria-label=\"Access\"\n      className=\"width-20 gf-form-input\"\n      options={ACCESS_OPTIONS}\n      value={ACCESS_OPTIONS.filter((o) => o.value === dataSourceConfig.access)[0] || DEFAULT_ACCESS_OPTION}\n      onChange={(selectedValue) => onSettingsChange({ access: selectedValue.value })}\n      disabled={dataSourceConfig.readOnly}\n    />\n  );\n\n  const isValidUrl = /^(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/.test(\n    dataSourceConfig.url\n  );\n\n  const notValidStyle = css({\n    boxShadow: `inset 0 0px 5px ${theme.v1.palette.red}`,\n  });\n\n  const inputStyle = cx({ [`width-20`]: true, [notValidStyle]: !isValidUrl });\n\n  const fromFieldId = useId();\n\n  const urlInput = (\n    <Input\n      id={fromFieldId}\n      className={inputStyle}\n      placeholder={defaultUrl}\n      value={dataSourceConfig.url}\n      data-testid={selectors.components.DataSource.DataSourceHttpSettings.urlInput}\n      onChange={(event) => onSettingsChange({ url: event.currentTarget.value })}\n      disabled={dataSourceConfig.readOnly}\n    />\n  );\n\n  return (\n    <div className=\"gf-form-group\">\n      <>\n        <h3 className=\"page-heading\">HTTP</h3>\n        <div className=\"gf-form-group\">\n          <div className=\"gf-form\">\n            <FormField\n              interactive={urlDocs ? true : false}\n              label={urlLabel ?? 'URL'}\n              labelWidth={13}\n              tooltip={urlTooltip}\n              inputEl={urlInput}\n            />\n          </div>\n\n          {showAccessOptions && (\n            <>\n              <div className=\"gf-form-inline\">\n                <div className=\"gf-form\">\n                  <FormField label=\"Access\" labelWidth={13} inputWidth={20} inputEl={accessSelect} />\n                </div>\n                <div className=\"gf-form\">\n                  <button\n                    type=\"button\"\n                    className=\"gf-form-label query-keyword pointer\"\n                    onClick={() => setIsAccessHelpVisible((isVisible) => !isVisible)}\n                  >\n                    Help&nbsp;\n                    <Icon name={isAccessHelpVisible ? 'angle-down' : 'angle-right'} style={{ marginBottom: 0 }} />\n                  </button>\n                </div>\n              </div>\n              {isAccessHelpVisible && <HttpAccessHelp />}\n            </>\n          )}\n          {dataSourceConfig.access === 'proxy' && (\n            <div className=\"gf-form-group\">\n              <div className=\"gf-form\">\n                <InlineFormLabel\n                  width={13}\n                  tooltip=\"Grafana proxy deletes forwarded cookies by default. Specify cookies by name that should be forwarded to the data source.\"\n                >\n                  Allowed cookies\n                </InlineFormLabel>\n                <TagsInput\n                  tags={dataSourceConfig.jsonData.keepCookies}\n                  width={40}\n                  onChange={(cookies) =>\n                    onSettingsChange({ jsonData: { ...dataSourceConfig.jsonData, keepCookies: cookies } })\n                  }\n                  disabled={dataSourceConfig.readOnly}\n                />\n              </div>\n              <div className=\"gf-form\">\n                <FormField\n                  label=\"Timeout\"\n                  type=\"number\"\n                  labelWidth={13}\n                  inputWidth={20}\n                  tooltip=\"HTTP request timeout in seconds\"\n                  placeholder=\"Timeout in seconds\"\n                  aria-label=\"Timeout in seconds\"\n                  value={dataSourceConfig.jsonData.timeout}\n                  onChange={(event) => {\n                    onSettingsChange({\n                      jsonData: { ...dataSourceConfig.jsonData, timeout: parseInt(event.currentTarget.value, 10) },\n                    });\n                  }}\n                  disabled={dataSourceConfig.readOnly}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </>\n\n      <>\n        <h3 className=\"page-heading\">Auth</h3>\n        <div className=\"gf-form-group\">\n          <div className=\"gf-form-inline\">\n            <InlineField label=\"Basic auth\" labelWidth={LABEL_WIDTH} disabled={dataSourceConfig.readOnly}>\n              <InlineSwitch\n                id=\"http-settings-basic-auth\"\n                value={dataSourceConfig.basicAuth}\n                onChange={(event) => {\n                  onSettingsChange({ basicAuth: event!.currentTarget.checked });\n                }}\n              />\n            </InlineField>\n\n            <InlineField\n              label=\"With Credentials\"\n              tooltip=\"Whether credentials such as cookies or auth headers should be sent with cross-site requests.\"\n              labelWidth={LABEL_WIDTH}\n              disabled={dataSourceConfig.readOnly}\n            >\n              <InlineSwitch\n                id=\"http-settings-with-credentials\"\n                value={dataSourceConfig.withCredentials}\n                onChange={(event) => {\n                  onSettingsChange({ withCredentials: event!.currentTarget.checked });\n                }}\n              />\n            </InlineField>\n          </div>\n\n          {azureAuthSettings?.azureAuthSupported && (\n            <div className=\"gf-form-inline\">\n              <InlineField\n                label=\"Azure Authentication\"\n                tooltip=\"Use Azure authentication for Azure endpoint.\"\n                labelWidth={LABEL_WIDTH}\n                disabled={dataSourceConfig.readOnly}\n              >\n                <InlineSwitch\n                  id=\"http-settings-azure-auth\"\n                  value={azureAuthEnabled}\n                  onChange={(event) => {\n                    onSettingsChange(\n                      azureAuthSettings.setAzureAuthEnabled(dataSourceConfig, event!.currentTarget.checked)\n                    );\n                  }}\n                />\n              </InlineField>\n            </div>\n          )}\n\n          {sigV4AuthToggleEnabled && (\n            <div className=\"gf-form-inline\">\n              <InlineField label=\"SigV4 auth\" labelWidth={LABEL_WIDTH} disabled={dataSourceConfig.readOnly}>\n                <InlineSwitch\n                  id=\"http-settings-sigv4-auth\"\n                  value={dataSourceConfig.jsonData.sigV4Auth || false}\n                  onChange={(event) => {\n                    onSettingsChange({\n                      jsonData: { ...dataSourceConfig.jsonData, sigV4Auth: event!.currentTarget.checked },\n                    });\n                  }}\n                />\n              </InlineField>\n            </div>\n          )}\n\n          {dataSourceConfig.access === 'proxy' && (\n            <HttpProxySettings\n              dataSourceConfig={dataSourceConfig}\n              onChange={(jsonData) => onSettingsChange({ jsonData })}\n              showForwardOAuthIdentityOption={azureAuthEnabled ? false : showForwardOAuthIdentityOption}\n            />\n          )}\n        </div>\n        {dataSourceConfig.basicAuth && (\n          <>\n            <h6>Basic Auth Details</h6>\n            <div className=\"gf-form-group\">\n              <BasicAuthSettings {...props} />\n            </div>\n          </>\n        )}\n\n        {azureAuthSettings?.azureAuthSupported && azureAuthEnabled && azureAuthSettings.azureSettingsUI && (\n          <azureAuthSettings.azureSettingsUI dataSourceConfig={dataSourceConfig} onChange={onChange} />\n        )}\n\n        {dataSourceConfig.jsonData.sigV4Auth && sigV4AuthToggleEnabled && renderSigV4Editor}\n        {(dataSourceConfig.jsonData.tlsAuth || dataSourceConfig.jsonData.tlsAuthWithCACert) && (\n          <TLSAuthSettings dataSourceConfig={dataSourceConfig} onChange={onChange} />\n        )}\n\n        {dataSourceConfig.access === 'proxy' && (\n          <CustomHeadersSettings dataSourceConfig={dataSourceConfig} onChange={onChange} />\n        )}\n      </>\n      {secureSocksDSProxyEnabled && <SecureSocksProxySettings options={dataSourceConfig} onOptionsChange={onChange} />}\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}