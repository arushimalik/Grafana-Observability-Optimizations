{"version":3,"file":"CellActions.js","sources":["../../../../src/components/Table/CellActions.tsx"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport * as React from 'react';\n\nimport { IconSize } from '../../types/icon';\nimport { IconButton } from '../IconButton/IconButton';\nimport { Stack } from '../Layout/Stack/Stack';\nimport { TooltipPlacement } from '../Tooltip';\n\nimport { TableCellInspector } from './TableCellInspector';\nimport { FILTER_FOR_OPERATOR, FILTER_OUT_OPERATOR, TableCellProps } from './types';\nimport { getTextAlign } from './utils';\n\ninterface CellActionProps extends TableCellProps {\n  previewMode: 'text' | 'code';\n}\n\ninterface CommonButtonProps {\n  size: IconSize;\n  showFilters?: boolean;\n  tooltipPlacement: TooltipPlacement;\n}\n\nexport function CellActions({ field, cell, previewMode, showFilters, onCellFilterAdded }: CellActionProps) {\n  const [isInspecting, setIsInspecting] = useState(false);\n\n  const isRightAligned = getTextAlign(field) === 'flex-end';\n  const inspectEnabled = Boolean(field.config.custom?.inspect);\n  const commonButtonProps: CommonButtonProps = {\n    size: 'sm',\n    tooltipPlacement: 'top',\n  };\n\n  const onFilterFor = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      if (onCellFilterAdded) {\n        onCellFilterAdded({ key: field.name, operator: FILTER_FOR_OPERATOR, value: cell.value });\n      }\n    },\n    [cell, field, onCellFilterAdded]\n  );\n  const onFilterOut = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      if (onCellFilterAdded) {\n        onCellFilterAdded({ key: field.name, operator: FILTER_OUT_OPERATOR, value: cell.value });\n      }\n    },\n    [cell, field, onCellFilterAdded]\n  );\n\n  return (\n    <>\n      <div className={`cellActions${isRightAligned ? ' cellActionsLeft' : ''}`}>\n        <Stack gap={0.5}>\n          {inspectEnabled && (\n            <IconButton\n              name=\"eye\"\n              tooltip=\"Inspect value\"\n              onClick={() => {\n                setIsInspecting(true);\n              }}\n              {...commonButtonProps}\n            />\n          )}\n          {showFilters && (\n            <IconButton name={'search-plus'} onClick={onFilterFor} tooltip=\"Filter for value\" {...commonButtonProps} />\n          )}\n          {showFilters && (\n            <IconButton name={'search-minus'} onClick={onFilterOut} tooltip=\"Filter out value\" {...commonButtonProps} />\n          )}\n        </Stack>\n      </div>\n\n      {isInspecting && (\n        <TableCellInspector\n          mode={previewMode}\n          value={cell.value}\n          onDismiss={() => {\n            setIsInspecting(false);\n          }}\n        />\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAsBO,SAAS,YAAY,EAAE,KAAA,EAAO,MAAM,WAAa,EAAA,WAAA,EAAa,mBAAsC,EAAA;AAtB3G,EAAA,IAAA,EAAA,CAAA;AAuBE,EAAA,MAAM,CAAC,YAAA,EAAc,eAAe,CAAA,GAAI,SAAS,KAAK,CAAA,CAAA;AAEtD,EAAM,MAAA,cAAA,GAAiB,YAAa,CAAA,KAAK,CAAM,KAAA,UAAA,CAAA;AAC/C,EAAA,MAAM,iBAAiB,OAAQ,CAAA,CAAA,EAAA,GAAA,KAAA,CAAM,MAAO,CAAA,MAAA,KAAb,mBAAqB,OAAO,CAAA,CAAA;AAC3D,EAAA,MAAM,iBAAuC,GAAA;AAAA,IAC3C,IAAM,EAAA,IAAA;AAAA,IACN,gBAAkB,EAAA,KAAA;AAAA,GACpB,CAAA;AAEA,EAAA,MAAM,WAAc,GAAA,WAAA;AAAA,IAClB,CAAC,KAA+C,KAAA;AAC9C,MAAA,IAAI,iBAAmB,EAAA;AACrB,QAAkB,iBAAA,CAAA,EAAE,KAAK,KAAM,CAAA,IAAA,EAAM,UAAU,mBAAqB,EAAA,KAAA,EAAO,IAAK,CAAA,KAAA,EAAO,CAAA,CAAA;AAAA,OACzF;AAAA,KACF;AAAA,IACA,CAAC,IAAM,EAAA,KAAA,EAAO,iBAAiB,CAAA;AAAA,GACjC,CAAA;AACA,EAAA,MAAM,WAAc,GAAA,WAAA;AAAA,IAClB,CAAC,KAA+C,KAAA;AAC9C,MAAA,IAAI,iBAAmB,EAAA;AACrB,QAAkB,iBAAA,CAAA,EAAE,KAAK,KAAM,CAAA,IAAA,EAAM,UAAU,mBAAqB,EAAA,KAAA,EAAO,IAAK,CAAA,KAAA,EAAO,CAAA,CAAA;AAAA,OACzF;AAAA,KACF;AAAA,IACA,CAAC,IAAM,EAAA,KAAA,EAAO,iBAAiB,CAAA;AAAA,GACjC,CAAA;AAEA,EAAA,uBAEI,IAAA,CAAA,QAAA,EAAA,EAAA,QAAA,EAAA;AAAA,oBAAC,GAAA,CAAA,KAAA,EAAA,EAAI,SAAW,EAAA,CAAA,WAAA,EAAc,cAAiB,GAAA,kBAAA,GAAqB,EAAE,CACpE,CAAA,EAAA,QAAA,kBAAA,IAAA,CAAC,KAAM,EAAA,EAAA,GAAA,EAAK,GACT,EAAA,QAAA,EAAA;AAAA,MACC,cAAA,oBAAA,GAAA;AAAA,QAAC,UAAA;AAAA,QAAA,cAAA,CAAA;AAAA,UACC,IAAK,EAAA,KAAA;AAAA,UACL,OAAQ,EAAA,eAAA;AAAA,UACR,SAAS,MAAM;AACb,YAAA,eAAA,CAAgB,IAAI,CAAA,CAAA;AAAA,WACtB;AAAA,SACI,EAAA,iBAAA,CAAA;AAAA,OACN;AAAA,MAED,WAAA,wBACE,UAAW,EAAA,cAAA,CAAA,EAAA,IAAA,EAAM,eAAe,OAAS,EAAA,WAAA,EAAa,OAAQ,EAAA,kBAAA,EAAA,EAAuB,iBAAmB,CAAA,CAAA;AAAA,MAE1G,WAAA,wBACE,UAAW,EAAA,cAAA,CAAA,EAAA,IAAA,EAAM,gBAAgB,OAAS,EAAA,WAAA,EAAa,OAAQ,EAAA,kBAAA,EAAA,EAAuB,iBAAmB,CAAA,CAAA;AAAA,KAAA,EAE9G,CACF,EAAA,CAAA;AAAA,IAEC,YACC,oBAAA,GAAA;AAAA,MAAC,kBAAA;AAAA,MAAA;AAAA,QACC,IAAM,EAAA,WAAA;AAAA,QACN,OAAO,IAAK,CAAA,KAAA;AAAA,QACZ,WAAW,MAAM;AACf,UAAA,eAAA,CAAgB,KAAK,CAAA,CAAA;AAAA,SACvB;AAAA,OAAA;AAAA,KACF;AAAA,GAEJ,EAAA,CAAA,CAAA;AAEJ;;;;"}